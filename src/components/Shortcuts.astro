---
import { Image } from 'astro:assets';

interface Site {
  url: string;
  title: string;
  favicon: string;
}

const popularSites: Site[] = [
  {
    url: 'https://mail.google.com',
    title: 'Gmail',
    favicon: 'https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico',
  },
  {
    url: 'https://www.youtube.com',
    title: 'YouTube',
    favicon: 'https://www.youtube.com/s/desktop/adbeefa1/img/favicon_144x144.png',
  },
  {
    url: 'https://www.facebook.com',
    title: 'Facebook',
    favicon: 'https://static.xx.fbcdn.net/rsrc.php/yb/r/hLRJ1GG_y0J.ico',
  },
  {
    url: 'https://www.instagram.com',
    title: 'Instagram',
    favicon: 'https://static.cdninstagram.com/rsrc.php/v3/yb/r/lswP1OF1o6P.png',
  },
  {
    url: 'https://www.amazon.com',
    title: 'Amazon',
    favicon: 'https://www.amazon.com/favicon.ico',
  },
];

const defaultFavicon = 'https://www.svgrepo.com/show/528352/link-minimalistic-2.svg';
---

<div class="quick-sparks">
  <div class="quick-sparks-grid">
    {
      popularSites.map((site) => (
        <a href={site.url} target="_blank" rel="noopener noreferrer" class="quick-spark-item">
          <Image
            src={site.favicon}
            alt={`${site.title} favicon`}
            width={48}
            height={48}
            format="webp"
            loading="eager"
            class="favicon"
            onerror={`this.onerror=null; this.src='${defaultFavicon}'`}
          />
          <span>{site.title}</span>
        </a>
      ))
    }
  </div>
</div>

<style>
  .quick-sparks {
    width: 100%;
    max-width: 620px;
    margin: var(--spacing-lg) auto;
  }

  .quick-sparks-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: var(--spacing-md);
  }

  .quick-spark-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    color: var(--color-primary);
    transition: all 0.3s ease;
  }

  :global(.dark-theme) .quick-spark-item {
    color: var(--color-text-light);
  }

  .quick-spark-item:hover {
    transform: translateY(-3px);
  }

  .quick-spark-item img {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    margin-bottom: var(--spacing-sm);
  }

  .quick-spark-item span {
    font-size: var(--font-size-small);
    text-align: center;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
</style>
